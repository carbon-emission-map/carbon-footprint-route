<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>路線規劃</title>
    <script>
        // 定義 getLatLng 函數
        function getLatLng(location) {
            const apiKey = "YOUR_API_KEY"; // 使用您自己的 API 金鑰
            const url = `https://maps.googleapis.com/maps/api/geocode/json?address=${location},台中市,台灣&key=${apiKey}`;
            return fetch(url)
                .then(response => response.json())
                .then(data => {
                    if (data.results.length > 0) {
                        return {
                            lat: data.results[0].geometry.location.lat,
                            lng: data.results[0].geometry.location.lng
                        };
                    }
                    throw new Error("無法找到位置");
                });
        }

        // 定義 calculateEmissions 函數
        function calculateEmissions(distance, mode) {
            const emissionsFactors = {
                'walking': 0,
                'bicycling': 0,
                'transit': 101,
                'driving': 271,
                'scooter': 80
            };
            return (distance / 1000) * emissionsFactors[mode];
        }

        // 提交查詢的函數
        function submitQuery() {
            const location = document.getElementById("location").value;
            getLatLng(location)
                .then(latLng => {
                    console.log(`經緯度: ${latLng.lat}, ${latLng.lng}`);
                    // 在此處可以進一步處理，如計算碳排放等
                })
                .catch(error => {
                    console.error(error);
                });
        }
    </script>
</head>
<body>
    <h1>路線規劃</h1>
    <label for="location">輸入地址:</label>
    <input type="text" id="location" placeholder="例如: 台中火車站">
    <button onclick="submitQuery()">查詢</button>
</body>
</html>
